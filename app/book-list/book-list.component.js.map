{"version":3,"file":"book-list.component.js","sourceRoot":"","sources":["book-list.component.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAA0E,eAAe,CAAC,CAAA;AAG1F,6BAAwB,iBAAiB,CAAC,CAAA;AAC1C,kCAA4B,sBAAsB,CAAC,CAAA;AACnD,qCAAoC,0DAA0D,CAAC,CAAA;AAS/F;IAWE;QARS,aAAQ,GAAU,EAAE,CAAC;QACpB,iBAAY,GAAG,IAAI,mBAAY,EAAE,CAAC;QAGpC,eAAU,GAAU,CAAC,CAAC;QACtB,gBAAW,GAAU,CAAC,CAAC;QACvB,oBAAe,GAAW,KAAK,CAAC;IAEzB,CAAC;IAEhB,oCAAQ,GAAR;IACA,CAAC;IAED,uCAAW,GAAX;QACE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;QACpC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QAC5C,IAAI,CAAC,WAAW,CAAC,EAAC,IAAI,EAAC,CAAC,EAAC,CAAC,CAAC;IAC7B,CAAC;IAED,mCAAO,GAAP,UAAQ,IAAS;QACf,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;YACR,MAAM,CAAC;QACT,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC/B,CAAC;IAED,uCAAW,GAAX,UAAY,eAAe;QACzB,IAAI,IAAI,GAAU,eAAe,CAAC,IAAI,CAAC;QACvC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE,GAAC,CAAC,IAAI,GAAC,CAAC,CAAC,EAAE,EAAE,GAAC,IAAI,CAAC,CAAC;IAC3D,CAAC;IA7BD;QAAC,YAAK,EAAE;;oDAAA;IACR;QAAC,YAAK,EAAE;;uDAAA;IACR;QAAC,aAAM,EAAE;;2DAAA;IAZX;QAAC,gBAAS,CAAC;YACT,QAAQ,EAAE,MAAM,CAAC,EAAE;YACnB,QAAQ,EAAE,eAAe;YACzB,WAAW,EAAE,0BAA0B;YACvC,MAAM,EAAE,CAAC,0BAA0B,CAAC;YACpC,UAAU,EAAE,CAAC,0CAAmB,CAAC;YACjC,KAAK,EAAE,CAAC,sBAAO,EAAE,+BAAW,CAAC;SAC9B,CAAC;;yBAAA;IAiCF,wBAAC;AAAD,CAAC,AAhCD,IAgCC;AAhCY,yBAAiB,oBAgC7B,CAAA","sourcesContent":["import { Component, OnInit, OnChanges, Input, Output, EventEmitter } from '@angular/core';\n\nimport { Book } from '../book';\nimport { Shorten } from '../shorten.pipe';\nimport { ArrayConcat } from '../array-concat.pipe';\nimport { PaginationComponent } from 'ng2-bootstrap/components/pagination/pagination.component';\n@Component({\n  moduleId: module.id,\n  selector: 'app-book-list',\n  templateUrl: 'book-list.component.html',\n  styles: ['.book { cursor:pointer }'],\n  directives: [PaginationComponent],\n  pipes: [Shorten, ArrayConcat]\n})\nexport class BookListComponent implements OnInit, OnChanges {\n\n  @Input() books:Book[];\n  @Input() pageSize:number = 10;\n  @Output() bookSelected = new EventEmitter();\n  \n  private pagedBooks:Book[];\n  private totalItems:number = 0;\n  private currentPage:number = 1;\n  private needsPagination:boolean = false;\n  \n  constructor() {}\n  \n  ngOnInit() {\n  }\n\n  ngOnChanges() {\n    this.totalItems = this.books.length;\n    this.needsPagination = this.totalItems > 10;\n    this.pageChanged({page:1});\n  }\n  \n  onClick(book:Book) {\n    if (!book)\n      return;\n    this.bookSelected.emit(book);\n  }\n  \n  pageChanged(pageChangeEvent) {\n    let page:number = pageChangeEvent.page;\n    this.pagedBooks = this.books.slice(10*(page-1), 10*page);\n  }\n}\n"]}