System.registerDynamic("app/environment.js",[],!0,function(a,b,c){"use strict";return b.environment={production:!0},c.exports}),System.registerDynamic("app/+book/book.component.js",["@angular/core","@angular/router","../book","../user"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("@angular/router"),h=a("../book"),i=a("../user"),j=function(){function a(a,b){this.bookService=a,this.userService=b}return a.prototype.ngOnInit=function(){var a=this;this.userService.user.subscribe(function(b){return a.user=b})},a.prototype.routerOnActivate=function(a){var b=this,c=a.getParam("bookId");this.bookService.getBook(c).subscribe(function(a){console.log("got book obs"),b.book=a,null!==b.book&&(b.book.id=c),console.log("set owner"),null===a?b.owner=null:b.userService.getUser(a.owner).subscribe(function(a){return b.owner=a})})},a.prototype.getAuthors=function(a){return console.log("get authors"),a?a.authors?a.authors.reduce(function(a,b){return a+", "+b}):"Unknown authors":""},a.prototype.makeTradeRequest=function(a){console.log("make trade");var b={bookId:this.book.id,ownerId:this.owner.id,requesterId:this.user.id,status:"new"};this.bookService.addTradeRequest(b),alert("Added trade request for book "+a.title)},a=d([f.Component({moduleId:c.id,selector:"app-book",templateUrl:"book.component.html",directives:[g.ROUTER_DIRECTIVES]}),e("design:paramtypes",[h.BookService,i.UserService])],a)}();return b.BookComponent=j,c.exports}),System.registerDynamic("app/+book/index.js",["./book.component"],!0,function(a,b,c){"use strict";var d=a("./book.component");return b.BookComponent=d.BookComponent,c.exports}),System.registerDynamic("app/+books/books.component.js",["@angular/core","@angular/router","../user","../book-list/book-list.component","../book"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("@angular/router"),h=a("../user"),i=a("../book-list/book-list.component"),j=a("../book"),k=function(){function a(a,b,c){var d=this;this.userService=a,this.bookService=b,this.router=c,this.books=[],this.bookService.allBooks.subscribe(function(a){return d.books=a})}return a.prototype.ngOnInit=function(){},a.prototype.gotoBookDetails=function(a){this.router.navigate(["/book/",a.$key])},a=d([f.Component({moduleId:c.id,selector:"app-books",templateUrl:"books.component.html",directives:[g.ROUTER_DIRECTIVES,i.BookListComponent]}),e("design:paramtypes",[h.UserService,j.BookService,g.Router])],a)}();return b.BooksComponent=k,c.exports}),System.registerDynamic("app/+books/index.js",["./books.component"],!0,function(a,b,c){"use strict";var d=a("./books.component");return b.BooksComponent=d.BooksComponent,c.exports}),System.registerDynamic("app/+home/home.component.js",["@angular/core","@angular/router","../user","../book","ng2-bootstrap/components/carousel/carousel.component","ng2-bootstrap/components/carousel/slide.component","../+books"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("@angular/router"),h=a("../user"),i=a("../book"),j=a("ng2-bootstrap/components/carousel/carousel.component"),k=a("ng2-bootstrap/components/carousel/slide.component"),l=a("../+books"),m=function(){function a(a,b){var c=this;this.userService=a,this.bookService=b,this.mostRecentBooks=[],this.bookService.allBooks.subscribe(function(a){return c.mostRecentBooks=a.slice(-5).reverse()})}return a.prototype.ngOnInit=function(){},a=d([f.Component({moduleId:c.id,selector:"app-home",templateUrl:"home.component.html",styles:["\n  .carousel-control.left, .carousel-control.right{ \n    background: none !important; \n    filter: progid:none !important; \n  }\n  "],encapsulation:f.ViewEncapsulation.None,directives:[g.ROUTER_DIRECTIVES,l.BooksComponent,j.CarouselComponent,k.SlideComponent]}),e("design:paramtypes",[h.UserService,i.BookService])],a)}();return b.HomeComponent=m,c.exports}),System.registerDynamic("app/+home/index.js",["./home.component"],!0,function(a,b,c){"use strict";var d=a("./home.component");return b.HomeComponent=d.HomeComponent,c.exports}),System.registerDynamic("app/+signup/signup.component.js",["@angular/core","@angular/router","../user"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("@angular/router"),h=a("../user"),i=function(){function a(a,b){this.router=a,this.userService=b,this.user={id:null,email:null,password:null,name:null,city:null,state:null}}return a.prototype.ngOnInit=function(){},a.prototype.signup=function(){var a=this;this.userService.signup(this.user).then(function(){return a.router.navigate(["/user",a.user.id])})},a=d([f.Component({moduleId:c.id,selector:"app-signup",templateUrl:"signup.component.html"}),e("design:paramtypes",[g.Router,h.UserService])],a)}();return b.SignupComponent=i,c.exports}),System.registerDynamic("app/+signup/index.js",["./signup.component"],!0,function(a,b,c){"use strict";var d=a("./signup.component");return b.SignupComponent=d.SignupComponent,c.exports}),System.registerDynamic("app/bootstrap-panel/context-type.js",[],!0,function(a,b,c){"use strict";!function(a){a[a["default"]=0]="default",a[a.primary=1]="primary",a[a.success=2]="success",a[a.info=3]="info",a[a.warning=4]="warning",a[a.danger=5]="danger"}(b.ContextType||(b.ContextType={}));b.ContextType;return c.exports}),System.registerDynamic("app/bootstrap-panel/bs-panel.component.js",["@angular/core","./bs-header.component","./bs-body.component","./bs-footer.component"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("./bs-header.component"),h=a("./bs-body.component"),i=a("./bs-footer.component"),j=function(){function a(){this.contextType="default"}return a.prototype.ngOnInit=function(){},d([f.ContentChild(g.BootstrapHeaderComponent),e("design:type",Object)],a.prototype,"header",void 0),d([f.ContentChild(h.BootstrapBodyComponent),e("design:type",Object)],a.prototype,"body",void 0),d([f.ContentChild(i.BootstrapFooterComponent),e("design:type",Object)],a.prototype,"footer",void 0),d([f.Input(),e("design:type",String)],a.prototype,"contextType",void 0),a=d([f.Component({moduleId:c.id,selector:"bs-panel",templateUrl:"bs-panel.component.html",directives:[g.BootstrapHeaderComponent]}),e("design:paramtypes",[])],a)}();return b.BootstrapPanelComponent=j,c.exports}),System.registerDynamic("app/bootstrap-panel/bs-header.component.js",["@angular/core"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=function(){function a(){}return a=d([f.Component({moduleId:c.id,selector:"bs-header",template:"<ng-content></ng-content>"}),e("design:paramtypes",[])],a)}();return b.BootstrapHeaderComponent=g,c.exports}),System.registerDynamic("app/bootstrap-panel/bs-body.component.js",["@angular/core"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=function(){function a(){}return a=d([f.Component({moduleId:c.id,selector:"bs-body",template:"<ng-content></ng-content>"}),e("design:paramtypes",[])],a)}();return b.BootstrapBodyComponent=g,c.exports}),System.registerDynamic("app/bootstrap-panel/bs-footer.component.js",["@angular/core"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=function(){function a(){}return a=d([f.Component({moduleId:c.id,selector:"bs-footer",template:"<ng-content></ng-content>"}),e("design:paramtypes",[])],a)}();return b.BootstrapFooterComponent=g,c.exports}),System.registerDynamic("app/bootstrap-panel/index.js",["./context-type","./bs-panel.component","./bs-header.component","./bs-body.component","./bs-footer.component"],!0,function(a,b,c){"use strict";var d=a("./context-type");b.ContextType=d.ContextType;var e=a("./bs-panel.component"),f=a("./bs-header.component"),g=a("./bs-body.component"),h=a("./bs-footer.component");return b.BS_PANEL_DIRECTIVES=[e.BootstrapPanelComponent,f.BootstrapHeaderComponent,g.BootstrapBodyComponent,h.BootstrapFooterComponent],c.exports}),System.registerDynamic("app/+user/user.component.js",["@angular/core","@angular/common","rxjs/add/operator/debounceTime","rxjs/add/operator/distinctUntilChanged","rxjs/add/operator/switchMap","@angular/router","../user","../book","../book-list/book-list.component","../bootstrap-panel"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("@angular/common");a("rxjs/add/operator/debounceTime"),a("rxjs/add/operator/distinctUntilChanged"),a("rxjs/add/operator/switchMap");var h=a("@angular/router"),i=a("../user"),j=a("../book"),k=a("../book-list/book-list.component"),l=a("../bootstrap-panel"),m=function(){function a(a,b){this.userService=a,this.bookService=b,this.searchBook=new g.Control,this.searchBooksResults=[],this.queryUnderway=!1,this.showProfile=!1,this.name=new g.Control,this.city=new g.Control,this.state=new g.Control}return a.prototype.ngOnInit=function(){var a=this;this.userService.user.subscribe(function(b){a.user=b,a.books=a.bookService.userBooks,a.bookService.getTradeRequestsFrom(b).subscribe(function(b){return a.requestsFromMe=b}),a.bookService.getTradeRequestsBy(b).subscribe(function(b){return a.requestsByMe=b}),a.setControlValues()}),this.searchBook.valueChanges.map(function(b){return a.queryUnderway=!0,b}).debounceTime(400).distinctUntilChanged().switchMap(function(b){return a.bookService.findBooks(b)}).subscribe(function(b){console.log("got result: "+b),a.queryUnderway=!1,a.searchBooksResults=b})},a.prototype.deleteBook=function(a){this.bookService.deleteBook(this.user,a)},a.prototype.addBook=function(a){this.bookService.addBook(this.user,a),this.searchBook.updateValue("")},a.prototype.toggleProfile=function(){this.showProfile=!this.showProfile},a.prototype.saveProfile=function(){this.toggleProfile(),this.user.name=this.name.value,this.user.city=this.city.value,this.user.state=this.state.value,this.userService.updateUserData(this.user)},a.prototype.cancel=function(){this.toggleProfile(),this.setControlValues()},a.prototype.setControlValues=function(){this.name.updateValue(this.user?this.user.name:""),this.city.updateValue(this.user?this.user.city:""),this.state.updateValue(this.user?this.user.state:"")},a.prototype.acceptRequest=function(a){this.bookService.updateRequestStatus(a,"accepted")},a.prototype.declineRequest=function(a){this.bookService.updateRequestStatus(a,"decline")},a=d([f.Component({moduleId:c.id,selector:"app-user",templateUrl:"user.component.html",directives:[k.BookListComponent,l.BS_PANEL_DIRECTIVES,h.ROUTER_DIRECTIVES]}),e("design:paramtypes",[i.UserService,j.BookService])],a)}();return b.UserComponent=m,c.exports}),System.registerDynamic("app/+user/index.js",["./user.component"],!0,function(a,b,c){"use strict";var d=a("./user.component");return b.UserComponent=d.UserComponent,c.exports}),System.registerDynamic("app/book/book.service.js",["@angular/core","@angular/http","rxjs/Observable","rxjs/add/operator/map","rxjs/add/observable/of","angularfire2","underscore","../user"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("@angular/http"),h=a("rxjs/Observable");a("rxjs/add/operator/map"),a("rxjs/add/observable/of");var i=a("angularfire2");a("underscore");var j=a("../user"),k="https://www.googleapis.com/books/v1/volumes",l=function(){function a(a,b,c){var d=this;this.http=a,this.af=b,this.userService=c,this.allTradeRequests=this.af.list("/traderequests"),this.allBooks=this.af.list("/books"),c.user.subscribe(function(a){return d.userBooks=null===a?null:d.allBooks.map(function(b){return b.filter(function(b){return b.owner===a.id})})})}return a.prototype.findBooks=function(a){if(console.log("Finding books using query: "+a),!a||0===a.length)return h.Observable.of([]);var b=new g.URLSearchParams;return b.set("q",a),this.http.get(k,{search:b}).map(function(a){return a.json()}).map(function(a){return a.items}).map(function(a){return a.map(function(a){return a.volumeInfo})}).map(function(a){return a.map(function(a){return _.pick(a,"id","authors","title","subtitle","language","description","pageCount","imageLinks")})})},a.prototype.getBooksOfUser=function(a){return console.log("Retrieving books of user..."+a),a&&0!==a.length?(console.log("returning user book list"),this.userBooks):h.Observable.of([])},a.prototype.getBook=function(a){return this.af.object("/books/"+a)},a.prototype.deleteBook=function(a,b){return console.log("Deleting book "+b.title+" from user "+a.name),null===this.userBooks?void console.warn("User "+a.name+" not logged in"):void this.allBooks.remove(b)},a.prototype.addBook=function(a,b){return console.log("Adding book "+b.title+" to user "+a.name),null===this.userBooks?void console.warn("User "+a.name+" not logged in"):(b.owner=a.id,console.log("pushing book to general book list"),void this.allBooks.push(b))},a.prototype.addTradeRequest=function(a){this.allTradeRequests.push(a)},a.prototype.getTradeRequestsFrom=function(a){return null===a?h.Observable.of([]):this.allTradeRequests.map(function(b){return b.filter(function(b){return b.requesterId===a.id})})},a.prototype.getTradeRequestsBy=function(a){return null===a?h.Observable.of([]):this.allTradeRequests.map(function(b){return b.filter(function(b){return b.ownerId===a.id&&"new"===b.status})})},a.prototype.updateRequestStatus=function(a,b){this.af.object("/traderequests/"+a.$key).update({status:b})},a=d([f.Injectable(),e("design:paramtypes",[g.Http,i.AngularFire,j.UserService])],a)}();return b.BookService=l,c.exports}),System.registerDynamic("app/book/index.js",["./book.service"],!0,function(a,b,c){"use strict";var d=a("./book.service");return b.BookService=d.BookService,c.exports}),System.registerDynamic("app/shorten.pipe.js",["@angular/core"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=function(){function a(){}return a.prototype.transform=function(a,b){if(!a||a.length<b)return a;var c=a.substr(0,b),d=c.lastIndexOf(".");return d>=0&&(c=c.substr(0,d+1)),c},a=d([f.Pipe({name:"shorten"}),e("design:paramtypes",[])],a)}();return b.Shorten=g,c.exports}),System.registerDynamic("app/array-concat.pipe.js",["@angular/core"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=function(){function a(){}return a.prototype.transform=function(a,b,c,d){return a?0===a.length?d?d:"":a.reduce(function(a,b){return a+", "+b}):c?c:""},a=d([f.Pipe({name:"arrayConcat"}),e("design:paramtypes",[])],a)}();return b.ArrayConcat=g,c.exports}),System.registerDynamic("app/book-list/book-list.component.js",["@angular/core","../shorten.pipe","../array-concat.pipe","ng2-bootstrap/components/pagination/pagination.component"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("../shorten.pipe"),h=a("../array-concat.pipe"),i=a("ng2-bootstrap/components/pagination/pagination.component"),j=function(){function a(){this.pageSize=10,this.bookSelected=new f.EventEmitter,this.totalItems=0,this.currentPage=1,this.needsPagination=!1}return a.prototype.ngOnInit=function(){},a.prototype.ngOnChanges=function(){this.totalItems=this.books.length,this.needsPagination=this.totalItems>10,this.pageChanged({page:1})},a.prototype.onClick=function(a){a&&this.bookSelected.emit(a)},a.prototype.pageChanged=function(a){var b=a.page;this.pagedBooks=this.books.slice(10*(b-1),10*b)},d([f.Input(),e("design:type",Array)],a.prototype,"books",void 0),d([f.Input(),e("design:type",Number)],a.prototype,"pageSize",void 0),d([f.Output(),e("design:type",Object)],a.prototype,"bookSelected",void 0),a=d([f.Component({moduleId:c.id,selector:"app-book-list",templateUrl:"book-list.component.html",styles:[".book { cursor:pointer }"],directives:[i.PaginationComponent],pipes:[g.Shorten,h.ArrayConcat]}),e("design:paramtypes",[])],a)}();return b.BookListComponent=j,c.exports}),System.registerDynamic("app/user/user.service.js",["@angular/core","angularfire2","rxjs/Observable","rxjs/add/operator/map","rxjs/add/operator/switchMap","rxjs/add/operator/share","rxjs/add/observable/of"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("angularfire2"),h=a("rxjs/Observable");a("rxjs/add/operator/map"),a("rxjs/add/operator/switchMap"),a("rxjs/add/operator/share"),a("rxjs/add/observable/of");var i={provider:g.AuthProviders.Password,method:g.AuthMethods.Password},j=function(){function a(a){var b=this;this.af=a,this.users=this.af.object("/users"),this.user=this.af.auth.flatMap(function(a){return null===a?h.Observable.of(null):b.af.object("/users/"+a.uid)}),this.loggedIn=this.user.map(function(a){return null!==a})}return a.prototype.login=function(a,b){return this.af.auth.login({email:a,password:b},i)},a.prototype.logout=function(){this.af.auth.logout()},a.prototype.getUser=function(a){return null==a?h.Observable.of(null):this.af.object("/users/"+a)},a.prototype.updateUserData=function(a){var b=this.af.object("/users/"+a.id);b.update({name:a.name,city:a.city,state:a.state})},a.prototype.signup=function(a){var b=this,c=this.af.auth.createUser(a).then(function(c){var d=c.uid;a.id=d,b.af.auth.login(a).then(function(c){var e={};delete a.password,e[d]=a,b.users.update(e)})})["catch"](function(a){return console.error(a)});return c},a=d([f.Injectable(),e("design:paramtypes",[g.AngularFire])],a)}();return b.UserService=j,c.exports}),System.registerDynamic("app/user/index.js",["./user.service"],!0,function(a,b,c){"use strict";var d=a("./user.service");return b.UserService=d.UserService,c.exports}),System.registerDynamic("app/header/header.component.js",["@angular/core","../user","@angular/router"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("../user"),h=a("@angular/router"),i=function(){function a(a,b){var c=this;this.router=a,this.userService=b,b.user.subscribe(function(a){c.loggedIn=null!==a,c.user=a})}return a.prototype.ngOnInit=function(){},a.prototype.logout=function(){this.userService.logout(),this.router.navigate(["/books"])},a.prototype.login=function(a,b){var c=this,d=this.userService.login(a,b);d.then(function(a){c.router.navigate(["/user/",a.uid])})["catch"](function(a){return alert(a)})},a=d([f.Component({moduleId:c.id,selector:"app-header",templateUrl:"header.component.html",directives:[h.ROUTER_DIRECTIVES]}),e("design:paramtypes",[h.Router,g.UserService])],a)}();return b.HeaderComponent=i,c.exports}),System.registerDynamic("app/book-trade.component.js",["@angular/core","@angular/router","./+book","./+books","./+home","./+signup","./+user","./book","./book-list/book-list.component","./user","./header/header.component"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("@angular/router"),h=a("./+book"),i=a("./+books"),j=a("./+home"),k=a("./+signup"),l=a("./+user"),m=a("./book"),n=a("./book-list/book-list.component"),o=a("./user"),p=a("./header/header.component"),q=function(){function a(){}return a=d([f.Component({moduleId:c.id,selector:"book-trade-app",templateUrl:"book-trade.component.html",directives:[g.ROUTER_DIRECTIVES,n.BookListComponent,p.HeaderComponent],providers:[g.ROUTER_PROVIDERS,m.BookService,o.UserService]}),g.Routes([{path:"/",component:j.HomeComponent},{path:"/book/:bookId",component:h.BookComponent},{path:"/books",component:i.BooksComponent},{path:"/signup",component:k.SignupComponent},{path:"/user/:userId",component:l.UserComponent}]),e("design:paramtypes",[])],a)}();return b.BookTradeAppComponent=q,c.exports}),System.registerDynamic("app/index.js",["./environment","./book-trade.component"],!0,function(a,b,c){"use strict";var d=a("./environment");b.environment=d.environment;var e=a("./book-trade.component");return b.BookTradeAppComponent=e.BookTradeAppComponent,c.exports});